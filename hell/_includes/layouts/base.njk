<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>{{ hell.site_title }}{% if title %} - {{ title }}{%endif%}</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#36b1bf">
    <meta name="msapplication-TileColor" content="#efefef">
    <meta name="theme-color" content="#36b1bf">

    <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="{{ metadata.title }}">

    <!-- Search Engine -->
    <meta name="description" content="{{ description }}">
    {# <meta name="image" content="{{ metadata.cloudinary }}/w_1200/{{ image or metadata.smimage }}"> #}
    <!-- Schema.org for Google -->
    <meta itemprop="name" content="{{ title }}">
    <meta itemprop="description" content="{{ description }}">
    {# <meta itemprop="image" content="{{ metadata.cloudinary }}/w_1200/{{ image or metadata.smimage }}"> #}
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ title }}">
    <meta name="twitter:description" content="{{ description }}">
    <meta name="twitter:site" content="@mmatuzo">
    <meta name="twitter:creator" content="@mmatuzo">
    {# <meta name="twitter:image:src" content="{{ metadata.cloudinary }}/w_1024/{{ image or metadata.smimage }}"> #}
    <!-- Open Graph general (Facebook, Pinterest & Google+) -->
    <meta property="og:title" content="{{ title }}">
    <meta property="og:description" content="{{ description }}">
    <meta property="og:image" content="{{ metadata.cloudinary }}/w_1200/{{ image or metadata.smimage }}">
    <meta property="og:url" content="{{ metadata.url }}{{ page.url }}">
    <meta property="og:site_name" content="{{ title }}">
    <meta property="og:locale" content="en_GB">
    <meta property="og:type" content="website">

    <link rel="stylesheet" href="/assets/prism.css" />
    <link rel="stylesheet" href="/assets/style.css" />

</head>
<body>

  <header class="site-header">
    <a href="/">
      {% include "logo.njk" %}
    </a>
  </header>

  <main class="site-content">
    <h1 class="u-hidden">{{ title }}</h1>

    {{ content | safe }}
  </main>

  <footer class="site-footer">
    curated by <a href="https://twitter.com/mmatuzo">@mmatuzo</a>
  </footer>

  <script>

    var site = document.documentElement;
/**
* hide header
*/
const shrinkHeader = () => {
site.classList.add('site--scrolled')
}

/**
* Show header
*/
const expandHeader = () => {
site.classList.remove('site--scrolled')
}

/**
* Check if the site has been scrolled and show or hide header accordingly
*/
const checkPos = () => {
var lastKnownScrollPosition = window.pageYOffset

if (lastKnownScrollPosition > 0) {
requestAnimationFrame(shrinkHeader)
}

if (lastKnownScrollPosition == 0) {
requestAnimationFrame(expandHeader)
}
}


var throttle = function (fn) {
var running
var lastTime = 0
var gDelay = 125
var RIC_DEFAULT_TIMEOUT = 666
var rICTimeout = RIC_DEFAULT_TIMEOUT
var run = function () {
  running = false
  lastTime = Date.now()
  fn()
}
var idleCallback = requestIdleCallback
  ? function () {
    requestIdleCallback(run, { timeout: rICTimeout })
    if (rICTimeout !== RIC_DEFAULT_TIMEOUT) {
      rICTimeout = RIC_DEFAULT_TIMEOUT
    }
  }
  : rAFIt(function () {
    setTimeout(run)
  }, true)
return function (isPriority) {
  var delay
  if ((isPriority = isPriority === true)) {
    rICTimeout = 44
  }

  if (running) {
    return
  }

  running = true

  delay = gDelay - (Date.now() - lastTime)

  if (delay < 0) {
    delay = 0
  }

  if (isPriority || (delay < 9 && requestIdleCallback)) {
    idleCallback()
  } else {
    setTimeout(idleCallback, delay)
  }
}
}

window.addEventListener('scroll', throttle(checkPos))

  </script>
  
</body>
</html>
